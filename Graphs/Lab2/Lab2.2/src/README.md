# –ì–∞–º–º–∞-–ê–ª–≥–æ—Ä–∏—Ç–º

#### –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è
**–ì—Ä–∞–Ω—å** - –º–∞–∫—Å. —É—á–∞—Å—Ç–æ–∫ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ–±—Ä–∞–º–∏, —Ç–∞–∫–æ–π, —á—Ç–æ –ª—é–±—ã–µ –¥–≤–µ —Ç–æ—á–∫–∏ –µ–≥–æ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω—ã –ù–ï –ø–µ—Ä–µ—Å–µ–∫–∞—è—Å—å —Ä–µ–±—Ä–∞–º–∏.
(**–í–°–ï–ì–î–ê** —Å–≤—è–∑–Ω–∞—è - –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–æ–∂–Ω–æ –¥–æ–π—Ç–∏ –¥–æ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π!)
*–ù–µ–ª—å–∑—è –æ–¥–Ω–æ–π –ø—Ä–æ—Ö–æ–¥–∫–æ–π –ø–æ–∫—Ä—ã—Ç—å –≤—Å–µ —Ç–æ—á–∫–∏*

**–£–ª–æ–∂–µ–Ω–Ω—ã–π** - –º–æ–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Ç–∞–∫, —á—Ç–æ –ª—é–±—ã–µ –¥–≤–∞ —Ä–µ–±—Ä–∞ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è
**–ü–ª–∞–Ω–∞—Ä–Ω—ã–π** - –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —É–ª–æ–∂–µ–Ω –Ω–∞ –ø–ª—Å–∫—Ç—å
**–ü–ª–æ—Å–∫–∏–π** - —É–∂–µ —É–ª–æ–∂–µ–Ω

**–°–≤—è–∑–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** - –≥—Ä—É–ø–ø–∞ –≤–µ—Ä—à–∏–Ω, –≥–¥–µ –∫–∞–∂–¥–∞—è –ø–∞—Ä–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∞ –ø—É—Ç—ë–º —á–µ—Ä–µ–∑ —Ä—ë–±—Ä–∞
**–ü–æ–ª–Ω—ã–π –¥–≤—É–¥–æ–ª—å–Ω—ã–π** - –ù–ò–ö–û–ì–î–ê –Ω–µ —É–ª–æ–∂–µ–Ω
![alt text](../docs/png/300px-K33.png)

**–£–ª–æ–∂–µ–Ω–Ω—ã–π**

![alt text](../docs/png/375px-Planar_graph.png)


##### –û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è:
- $G$ ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ.
- $\Gamma_1, \Gamma_2$ ‚Äî –≥—Ä–∞–Ω–∏, –æ–±—Ä–∞–∑—É—é—â–∏–µ—Å—è –ø—Ä–∏ —É–∫–ª–∞–¥–∫–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å.
- $G_{\text{Plane}}$ ‚Äî —É–ª–æ–∂–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å –≥—Ä–∞—Ñ–∞.
- –°–µ–≥–º–µ–Ω—Ç ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–¥–Ω–æ–≥–æ –∏–∑ –¥–≤—É—Ö —Ç–∏–ø–æ–≤:
  - –∞) –†–µ–±—Ä–æ, –æ–±–∞ –∫–æ–Ω—Ü–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç $G_{\text{Plane}}$, –Ω–æ —Å–∞–º–æ –æ–Ω–æ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç $G_{\text{Plane}}$
  - –±) –°–≤—è–∑–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ $G \setminus G_{\text{Plane}}$, –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –≤—Å–µ–º–∏ —Ä—ë–±—Ä–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –æ–¥–∏–Ω –∫–æ–Ω–µ—Ü –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –∞ –¥—Ä—É–≥–æ–π ‚Äî $G_{\text{Plane}}$
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—à–∏–Ω–∞ ‚Äî –≤–µ—Ä—à–∏–Ω–∞, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∞—è $G_{\text{Plane}}$ –∏ —Å–µ–≥–º–µ–Ω—Ç—É.
- $G(S_i)$ ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥—Ä–∞–Ω–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–º–µ—Å—Ç–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç $S_i$.
- **–ì—Ä–∞–Ω—å –≤–º–µ—â–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç <=> –∫–æ–≥–¥–∞ –≤—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã —Å–µ–≥–º–µ–Ω—Ç–∞ –ª–µ–∂–∞—Ç –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –≥—Ä–∞–Ω–∏**

## –ê–ª–≥–æ—Ä–∏—Ç–º

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
–í—ã–±–∏—Ä–∞–µ—Ç—Å—è –ª—é–±–æ–π –ø—Ä–æ—Å—Ç–æ–π —Ü–∏–∫–ª –∏ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ø–ª–æ—Å–∫–æ—Å—Ç—å. –ü—Ä–∏ —ç—Ç–æ–º –æ–±—Ä–∞–∑—É—é—Ç—Å—è –¥–≤–µ –≥—Ä–∞–Ω–∏ $\Gamma_1$ –∏ $\Gamma_2$. –£–ª–æ–∂–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å –≥—Ä–∞—Ñ–∞ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –∫–∞–∫ $G_{\text{Plane}}$.

### –®–∞–≥ 2: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–∏–¥–æ–≤:
- –∞) –†–µ–±—Ä–æ, –æ–±–∞ –∫–æ–Ω—Ü–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç $G_{\text{Plane}}$, –Ω–æ —Å–∞–º–æ –æ–Ω–æ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç
- –±) –°–≤—è–∑–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ $G \setminus G_{\text{Plane}}$, –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –≤—Å–µ–º–∏ —Ä—ë–±—Ä–∞–º–∏ (—Å–æ–µ–¥–∏–Ω—è—é—â–∏–º–∏ —ç—Ç—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å $G_{\text{Plane}}$), –æ–¥–∏–Ω –∫–æ–Ω–µ—Ü –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –∞ –¥—Ä—É–≥–æ–π –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç $G_{\text{Plane}}$ 

**–ü–æ–∏—Å–∫ —Å—Ç–∞–∏:**
1. –ù–∞—á–∏–Ω–∞–µ–º —Å –ª—é–±–æ–≥–æ –∫–æ—Ç–∏–∫–∞ –ù–ï –Ω–∞ –∫–æ–≤—Ä–∏–∫–µ
2. –ò–¥–µ–º –ø–æ –¥—Ä—É–∂–±–∞–º –∫ –¥—Ä—É–≥–∏–º –∫–æ—Ç–∏–∫–∞–º –ù–ï –Ω–∞ –∫–æ–≤—Ä–∏–∫–µ
3. –°–¢–û–ü –∫–æ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥–∞–µ–º –∫–æ—Ç–∏–∫–∞ –Ω–∞ –∫–æ–≤—Ä–∏–∫–µ (—ç—Ç–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –∫–æ—Ç–∏–∫)
4. –í–°–ï –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –∫–æ—Ç–∏–∫–∏ = –æ–¥–Ω–∞ —Å—Ç–∞—è

### –®–∞–≥ 3: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã ‚Äî –≤–µ—Ä—à–∏–Ω—ã, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ $G_{\text{Plane}}$ –∏ –¥–∞–Ω–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É.

### –®–∞–≥ 4: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≥—Ä–∞–Ω–µ–π
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ $S_i$ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥—Ä–∞–Ω–µ–π $G(S_i)$, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–º–µ—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç. 

*–ì—Ä–∞–Ω—å **–≤–º–µ—â–∞–µ—Ç** —Å–µ–≥–º–µ–Ω—Ç, –µ—Å–ª–∏ –≤—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —ç—Ç–æ–π –≥—Ä–∞–Ω–∏.*

| –¢–∏–ø —Ü–µ–ø–∏ | –ù–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|---------------|---------|
| –ú–µ–∂–¥—É –Ω–µ—Å–æ—Å–µ–¥–Ω–∏–º–∏ –≤–µ—Ä—à–∏–Ω–∞–º–∏ | +1 | –†–∞–∑—Ä–µ–∑–∞–µ–º –∫–æ–º–Ω–∞—Ç—É |
| –ú–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –≤–µ—Ä—à–∏–Ω–∞–º–∏ | +0 | –î–æ–±–∞–≤–ª—è–µ–º –≤—ã—Å—Ç—É–ø |
| –ó–∞–º—ã–∫–∞–µ—Ç—Å—è –≤ –æ–¥–Ω—É –≤–µ—Ä—à–∏–Ω—É | +0 | –°–æ–∑–¥–∞–µ–º –∫–∞—Ä–º–∞–Ω |


### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞—Ä–Ω–æ—Å—Ç–∏
–ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–µ–≥–º–µ–Ω—Ç $S_i$, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ $G(S_i) = \emptyset$ (—Ç.–µ. —Å–µ–≥–º–µ–Ω—Ç –Ω–µ–ª—å–∑—è —É–ª–æ–∂–∏—Ç—å –Ω–∏ –≤ –æ–¥–Ω—É –≥—Ä–∞–Ω—å), —Ç–æ –≥—Ä–∞—Ñ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–Ω–∞—Ä–Ω—ã–º. –ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º "–≥—Ä–∞—Ñ –Ω–µ –ø–ª–∞–Ω–∞—Ä–µ–Ω".

### –®–∞–≥ 6: –í—ã–±–æ—Ä —Å–µ–≥–º–µ–Ω—Ç–∞ –¥–ª—è —É–∫–ª–∞–¥–∫–∏
–í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–µ–≥–º–µ–Ω—Ç $S_{\min}$ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥—Ä–∞–Ω–µ–π:
$$S_{\min} = \arg\min_{S_i} |G(S_i)|$$

### –®–∞–≥ 7: –£–∫–ª–∞–¥–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞
- –í –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ $S_{\min}$ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª—é–±–∞—è —Ü–µ–ø—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –≤–µ—Ä—à–∏–Ω–∞–º–∏.
- –≠—Ç–∞ —Ü–µ–ø—å —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å –ª—é–±–æ–π –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥—Ä–∞–Ω–µ–π –∏–∑ $G(S_{\min})$.
- –ü—Ä–∏ —É–∫–ª–∞–¥–∫–µ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≥—Ä–∞–Ω—å —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–≤–µ –Ω–æ–≤—ã–µ –≥—Ä–∞–Ω–∏.
- –í—ã–±—Ä–∞–Ω–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç –ª–∏–±–æ –∏—Å—á–µ–∑–∞–µ—Ç, –ª–∏–±–æ —Ä–∞—Å–ø–∞–¥–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–Ω—å—à–∏—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

### –®–∞–≥ 8: –ò—Ç–µ—Ä–∞—Ü–∏—è
–®–∞–≥–∏ 2-7 –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞:
- –ª–∏–±–æ –≤–µ—Å—å –≥—Ä–∞—Ñ –Ω–µ –±—É–¥–µ—Ç —É–ª–æ–∂–µ–Ω –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç—å (–≥—Ä–∞—Ñ –ø–ª–∞–Ω–∞—Ä–µ–Ω),
- –ª–∏–±–æ –Ω–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —á—Ç–æ –≥—Ä–∞—Ñ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–Ω–∞—Ä–Ω—ã–º.


**–ö–æ—Ç–∏–∫–æ–≤–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è:** "–ù–µ –ø—ã—Ç–∞–π—Å—è —É–ª–æ–∂–∏—Ç—å –≤—Å–µ—Ö –∫–æ—Ç–∏–∫–æ–≤ —Å—Ä–∞–∑—É - —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π —É–¥–æ–±–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã!" üê±

## –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

#### std::map
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —Å —É–∑–ª–∞–º–∏ - ```{–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ}```
–ö–ª—é—á–∏ –≤—Å–µ–≥–¥–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã. 

#### std::unordered_map
**–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞**. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞, —Å —É–∑–ª–∞–º–∏ - ```{–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ}```. –° –±–∞–∫–µ—Ç–∞–º–∏. –ö–∞–∂–¥—ã–π –±–∞–∫–µ—Ç - –∫—É—Å–æ–∫ –∏—Å—Ö–æ–¥–Ω—ã—Ö —É–∑–ª–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ö–µ—à–µ–º (—Ç–∞–º —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–æ–≤–ø–∞–≤—à–∏—Ö —Ö–µ—à–µ–º –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (–ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–¥–µ–∞—å–Ω–æ–π —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏)). –ë–∞–∫–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ —Ö–µ—à–∞–º –¥–∞–Ω–Ω—ã–µ. 
–î–æ—Å—Ç—É–ø –ø–æ —Ö–µ—à—É –∫–ª—é—á–∞ - 
```
–ö–ª—é—á -> –•–µ—à -> –ë–∞–∫–µ—Ç -> –≠–ª–µ–º–µ–Ω—Ç (–∑–Ω–∞—á–µ–Ω–∏–µ)
```

#### std::set
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞, –∫–∞–∂–¥—ã–π —É–∑–µ–ª - {–∫–ª—é—á}

#### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
**set** ‚Äî –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤, **map** ‚Äî –¥–ª—è –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤.

---

## –ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –∫–æ–¥—É

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞—Ä–Ω–æ—Å—Ç–∏

1. –í –∫–æ–¥–µ ```LayingGraph::isLaying()``` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–∫–æ–π —É—á–∞—Å—Ç–æ–∫ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º std::set —É–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏:
```cpp
for (int i = 0; i < first_cycle.size(); i++) {
    int u = first_cycle[i];
    int v = first_cycle[(i + 1) % first_cycle.size()]
    laying_edges.insert({min(u, v), max(u, v)});
}
```

-  ```cpp
    laying_edges.insert({min(u, v), max(u, v)});

 –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ set —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–∞—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–∞–∫ ```{u, v} ‚â† {v, u}```. –î–ª—è —ç—Ç–æ–≥–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Ä–µ–±—Ä–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ, => –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã, –∏ –Ω–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤. Set –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏ —É–¥–∞–ª–∏—Ç –ø–æ–≤—Ç–æ—Ä—ã.

- ```cpp
    int v = first_cycle[(i + 1) % first_cycle.size()]

–¶–∏–∫–ª –≤ –≥—Ä–∞—Ñ–µ **–∑–∞–º–∫–Ω—É—Ç—ã–π**: –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—à–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è —Å –ø–µ—Ä–≤–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ü–∏–∫–ª–µ [A, B, C] —Ä—ë–±—Ä–∞: A-B, B-C, C-A). –ë–µ–∑ % –º—ã –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Ä–µ–±—Ä–æ –∏ –Ω–µ –∑–∞–∫—Ä–æ–µ–º —Ü–∏–∫–ª.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**
- –î–ª—è i=0: v = cycle[1]
- –î–ª—è i=1: v = cycle[2]
- –î–ª—è i=2 (size=3): (2+1)%3 = 3%3 = 0 ‚Üí v = cycle[0] (–ø–µ—Ä–≤–∞—è –≤–µ—Ä—à–∏–Ω–∞).

---

### –†–∞–∑—Ä–µ–∑–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏

#### –®–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä —Å –ø—Ä–∏–º–µ—Ä–æ–º

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏**:
   - `face_id = 0`, `path = {1, 5, 6, 2}`.
   - `face = faces[0] = {0, 1, 2, 3, 4}`.
   - `start = path[0] = 1`, `end = path[3] = 2`.
   - `start_it = find(face.begin(), face.end(), 1)` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç `1` (–∏–Ω–¥–µ–∫—Å 1 –≤ `face`).
   - `end_it = find(face.begin(), face.end(), 2)` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç `2` (–∏–Ω–¥–µ–∫—Å 2 –≤ `face`).
   - –û–±–∞ –Ω–∞–π–¥–µ–Ω—ã, —Ç–∞–∫ —á—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º.
   - `start_before_end = (start_it < end_it)` ‚Üí `true` (–∏–Ω–¥–µ–∫—Å 1 < –∏–Ω–¥–µ–∫—Å 2), —Ç–∞–∫ —á—Ç–æ –∏–¥—ë–º –≤ –≤–µ—Ç–∫—É `if (start_before_end)`.

2. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ `new_face1`** (—Å–µ–≥–º–µ–Ω—Ç –æ—Ç start –¥–æ end + reverse –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—É—Ç–∏):
   - `new_face1.insert(new_face1.end(), start_it, end_it + 1)`:
     - `start_it` ‚Üí —ç–ª–µ–º–µ–Ω—Ç 1, `end_it + 1` ‚Üí —ç–ª–µ–º–µ–Ω—Ç 3 (–∏–Ω–¥–µ–∫—Å 3, –∑–Ω–∞—á–µ–Ω–∏–µ 3).
     - –í—Å—Ç–∞–≤–ª—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω: `face[1]` –¥–æ `face[3]` (–Ω–µ –≤–∫–ª—é—á–∞—è –∫–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞? –ù–µ—Ç: `end_it + 1` ‚Äî —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ `end_it`, —Ç–∞–∫ —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã: 1, 2, 3.
     - `new_face1` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `{1, 2, 3}`.
   - –¶–∏–∫–ª: `for (auto it = path.rbegin() + 1; it != path.rend() - 1; ++it)`:
     - `path.rbegin()` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ `2` (–ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç).
     - `rbegin() + 1` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ `6` (–ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–∏–π).
     - `path.rend() - 1` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ `5` (–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—É—Ç–∏, –Ω–æ —Å –∫–æ–Ω—Ü–∞: rend() –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º, rend()-1 –ø–µ—Ä–µ–¥ `5`? –ü–æ–¥–æ–∂–¥–∏—Ç–µ: –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞ 4, –∏–Ω–¥–µ–∫—Å—ã 0:1,1:5,2:6,3:2.
       - rbegin() = –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∏–Ω–¥–µ–∫—Å 3 (2).
       - rbegin()+1 = –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∏–Ω–¥–µ–∫—Å 2 (6).
       - rend() = –∏—Ç–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥ –∏–Ω–¥–µ–∫—Å–æ–º 0.
       - rend()-1 = –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∏–Ω–¥–µ–∫—Å 0? –ù–µ—Ç: rend() ‚Äî —ç—Ç–æ end() –¥–ª—è reverse, —Ç–∞–∫ —á—Ç–æ rend()-1 ‚Äî —ç—Ç–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–π, —Ç.–µ. –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –∏–Ω–¥–µ–∫—Å 0 (1)? –î–∞–≤–∞–π —É—Ç–æ—á–Ω–∏–º: –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∞ {1,5,6,2}, reverse –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã: rbegin()=2, ++ =6, ++=5, ++=1, rend().
       - –¶–∏–∫–ª –æ—Ç rbegin()+1 (6) –¥–æ rend()-1 (—Ç.–µ. –¥–æ 5, –Ω–µ –≤–∫–ª—é—á–∞—è 1).
       - –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã: —Å–Ω–∞—á–∞–ª–∞ it=6, –∑–∞—Ç–µ–º ++it=5, –∑–∞—Ç–µ–º ++it=1 (–Ω–æ —Ü–∏–∫–ª –¥–æ rend()-1, —Ç.–µ. –¥–æ 5).
       - –¢–∞–∫ —á—Ç–æ —Ü–∏–∫–ª –ø–æ {6, 5}.
     - –î–ª—è –∫–∞–∂–¥–æ–≥–æ: `if (find(face.begin(), face.end(), *it) == face.end())` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –≤–µ—Ä—à–∏–Ω–∞ –≤ `face` ({0,1,2,3,4}).
       - –î–ª—è 6: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí `new_face1.push_back(6)` ‚Üí `new_face1 = {1, 2, 3, 6}`.
       - –î–ª—è 5: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí `new_face1.push_back(5)` ‚Üí `new_face1 = {1, 2, 3, 6, 5}`.
   - –ò—Ç–æ–≥: `new_face1 = {1, 2, 3, 6, 5}` (—Å–µ–≥–º–µ–Ω—Ç –≥—Ä–∞–Ω–∏ –æ—Ç 1 –¥–æ 3 + reverse –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—É—Ç–∏: 6, –∑–∞—Ç–µ–º 5).

3. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ `new_face2`** (—Å–µ–≥–º–µ–Ω—Ç –æ—Ç end –¥–æ start + –ø—Ä—è–º–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—É—Ç—å):
   - `new_face2.insert(new_face2.end(), end_it, face.end())`:
     - `end_it` ‚Üí —ç–ª–µ–º–µ–Ω—Ç 2, `face.end()` ‚Üí –∫–æ–Ω–µ—Ü.
     - –í—Å—Ç–∞–≤–ª—è–µ–º: `face[2]` –¥–æ –∫–æ–Ω—Ü–∞: {2, 3, 4}.
     - `new_face2 = {2, 3, 4}`.
   - `new_face2.insert(new_face2.end(), face.begin(), start_it + 1)`:
     - `face.begin()` ‚Üí 0, `start_it + 1` ‚Üí —ç–ª–µ–º–µ–Ω—Ç 2 (–∏–Ω–¥–µ–∫—Å 2, –∑–Ω–∞—á–µ–Ω–∏–µ 2).
     - –í—Å—Ç–∞–≤–ª—è–µ–º: –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ `start_it + 1`: {0, 1, 2}? –ù–µ—Ç: start_it=1 (—ç–ª–µ–º–µ–Ω—Ç 1), start_it+1= —ç–ª–µ–º–µ–Ω—Ç 2.
     - –î–∏–∞–ø–∞–∑–æ–Ω: face.begin() to start_it+1: –∏–Ω–¥–µ–∫—Å—ã 0 –∏ 1: {0, 1}.
     - `new_face2 = {2, 3, 4, 0, 1}` (—Ç–µ–ø–µ—Ä—å —ç—Ç–æ —Å–µ–≥–º–µ–Ω—Ç –æ—Ç 2 –æ–±—Ä–∞—Ç–Ω–æ –∫ 1 —á–µ—Ä–µ–∑ 4 –∏ 0).
   - –¶–∏–∫–ª: `for (auto it = path.begin() + 1; it != path.end() - 1; ++it)`:
     - `path.begin() + 1` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ `5`, `path.end() - 1` ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ `6` (end() –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–∏–º? path.end() = –ø–æ—Å–ª–µ 2, end()-1 = –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ 6).
     - –¶–∏–∫–ª –æ—Ç begin()+1 (5) –¥–æ end()-1 (6), —Ç.–µ. {5, 6}.
     - –î–ª—è –∫–∞–∂–¥–æ–≥–æ: –ø—Ä–æ–≤–µ—Ä–∫–∞ `find(face, *it)`:
       - –î–ª—è 5: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí `push_back(5)` ‚Üí `new_face2 = {2, 3, 4, 0, 1, 5}`.
       - –î–ª—è 6: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí `push_back(6)` ‚Üí `new_face2 = {2, 3, 4, 0, 1, 5, 6}`.
   - –ò—Ç–æ–≥: `new_face2 = {2, 3, 4, 0, 1, 5, 6}` (—Å–µ–≥–º–µ–Ω—Ç –≥—Ä–∞–Ω–∏ –æ—Ç 2 –∫ 1 + –ø—Ä—è–º–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—É—Ç—å: 5, –∑–∞—Ç–µ–º 6).

4. **–ó–∞–º–µ–Ω–∞ –≥—Ä–∞–Ω–∏**:
   - `new_face1` –∏ `new_face2` –Ω–µ –ø—É—Å—Ç—ã–µ.
   - `faces.erase(faces.begin() + 0)` ‚Üí —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –≥—Ä–∞–Ω—å `{0, 1, 2, 3, 4}`.
   - `faces.push_back({1, 2, 3, 6, 5})` ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—É—é –Ω–æ–≤—É—é –≥—Ä–∞–Ω—å.
   - `faces.push_back({2, 3, 4, 0, 1, 5, 6})` ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä—É—é –Ω–æ–≤—É—é –≥—Ä–∞–Ω—å.
   - –ò—Ç–æ–≥–æ–≤—ã–π `faces`: `[{1, 2, 3, 6, 5}, {2, 3, 4, 0, 1, 5, 6}]`.

#### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?
- –°—Ç–∞—Ä–∞—è –≥—Ä–∞–Ω—å `{0, 1, 2, 3, 4}` –±—ã–ª–∞ "—Ä–∞–∑—Ä–µ–∑–∞–Ω–∞" –ø–æ –ø—É—Ç–∏ `{1, 5, 6, 2}`: –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ –≤–µ—Ä—à–∏–Ω—ã 5 –∏ 6 –≤–Ω—É—Ç—Ä—å –≥—Ä–∞–Ω–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏–ª–∏ –µ—ë –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏.
- `new_face1` ‚Äî –æ–¥–Ω–∞ —á–∞—Å—Ç—å: –æ—Ç 1 –¥–æ 3 (–≤–∫–ª—é—á–∞—è) + –Ω–æ–≤—ã–µ –≤–µ—Ä—à–∏–Ω—ã 6 –∏ 5 (–≤ reverse –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é).
- `new_face2` ‚Äî –¥—Ä—É–≥–∞—è —á–∞—Å—Ç—å: –æ—Ç 2 –¥–æ 1 (—á–µ—Ä–µ–∑ 4 –∏ 0) + –Ω–æ–≤—ã–µ –≤–µ—Ä—à–∏–Ω—ã 5 –∏ 6 (–≤ –ø—Ä—è–º–æ–º –ø–æ—Ä—è–¥–∫–µ).
- –í –ø–ª–∞–Ω–∞—Ä–Ω—ã—Ö –≥—Ä–∞—Ñ–∞—Ö —ç—Ç–æ –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—é —Ä–µ–±—Ä–∞ –º–µ–∂–¥—É 1 –∏ 2 —á–µ—Ä–µ–∑ 5 –∏ 6, —á—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –≥—Ä–∞–Ω—å –Ω–∞ –¥–≤–µ –º–µ–Ω—å—à–∏–µ.

–ï—Å–ª–∏ –≤–µ—Ä—à–∏–Ω—ã –ø—É—Ç–∏ —É–∂–µ –±—ã–ª–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ, –æ–Ω–∏ –±—ã –Ω–µ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å (–∏–∑-–∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ `find`). –ï—Å–ª–∏ `start` –±—ã–ª –ø–æ—Å–ª–µ `end` –≤ —Ü–∏–∫–ª–µ, –∫–æ–¥ –ø–æ—à—ë–ª –±—ã –≤ `else` –≤–µ—Ç–∫—É (—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ, –Ω–æ —Å –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ü–∏–∫–ª–æ–≤).

![alt text](../docs/videos/split_faces-ezgif.com-resize.gif)

---

### –ü–æ–∏—Å–∫ —Å–≤—è–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
   - `components` ‚Äî –ø—É—Å—Ç–æ–π –≤–µ–∫—Ç–æ—Ä (—Å—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã).
   - `visited` ‚Äî –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ—Å–µ—â—ë–Ω–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ).
   - –¶–∏–∫–ª –ø–æ –≤—Å–µ–º –≤–µ—Ä—à–∏–Ω–∞–º –∏–∑ `vertices`: `for (int v : vertices)`.

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã 0** (v=0):
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º: `visited.find(0) == visited.end()` ‚Üí –î–∞ (0 –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞).
   - –ó–∞–ø—É—Å–∫–∞–µ–º BFS –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
     - `component` ‚Äî –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
     - `q` ‚Äî –æ—á–µ—Ä–µ–¥—å, –¥–æ–±–∞–≤–ª—è–µ–º 0: `q.push(0)`.
     - `visited.insert(0)` ‚Üí –¢–µ–ø–µ—Ä—å `visited = {0}`.
   - **BFS-—Ü–∏–∫–ª** (`while (!q.empty())`):
     - –ò–∑–≤–ª–µ–∫–∞–µ–º `u = 0` –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (`q.pop()`). `component.insert(0)` ‚Üí `component = {0}`.
     - –ò—â–µ–º —Å–æ—Å–µ–¥–µ–π `u=0`: –¶–∏–∫–ª `for (int w = 0; w < n; w++)`:
       - `w=1`: `graph[0][1] == true`, `vertices.find(1) != end` (1 –≤ `vertices`), `visited.find(1) == end` (1 –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞) ‚Üí –î–æ–±–∞–≤–ª—è–µ–º `visited.insert(1)`, `q.push(1)`.
       - `w=2`: `graph[0][2] == false` ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ–º.
       - –û—Å—Ç–∞–ª—å–Ω—ã–µ `w` –Ω–µ —Å–æ—Å–µ–¥–∏.
     - –û—á–µ—Ä–µ–¥—å —Ç–µ–ø–µ—Ä—å: `q = [1]`.
   - –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º BFS:
     - –ò–∑–≤–ª–µ–∫–∞–µ–º `u=1`. `component.insert(1)` ‚Üí `component = {0,1}`.
     - –°–æ—Å–µ–¥–∏ `u=1`:
       - `w=0`: `graph[1][0] == true`, –Ω–æ `visited.find(0) != end` (0 —É–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞) ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ–º.
       - `w=2`: `graph[1][2] == true`, 2 –≤ `vertices` –∏ –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞ ‚Üí `visited.insert(2)`, `q.push(2)`.
       - `w=3`: `graph[1][3] == false` ‚Üí –ü—Ä–æ–ø—É—Å–∫–∞–µ–º.
     - –û—á–µ—Ä–µ–¥—å: `q = [2]`.
   - –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º:
     - –ò–∑–≤–ª–µ–∫–∞–µ–º `u=2`. `component.insert(2)` ‚Üí `component = {0,1,2}`.
     - –°–æ—Å–µ–¥–∏ `u=2`:
       - `w=1`: –£–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞.
       - `w=3`: `graph[2][3] == true`, 3 –≤ `vertices` –∏ –Ω–µ –ø–æ—Å–µ—â–µ–Ω–∞ ‚Üí `visited.insert(3)`, `q.push(3)`.
     - –û—á–µ—Ä–µ–¥—å: `q = [3]`.
   - –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º:
     - –ò–∑–≤–ª–µ–∫–∞–µ–º `u=3`. `component.insert(3)` ‚Üí `component = {0,1,2,3}`.
     - –°–æ—Å–µ–¥–∏ `u=3`:
       - `w=2`: –£–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞.
       - –ù–µ—Ç –¥—Ä—É–≥–∏—Ö —Ä—ë–±–µ—Ä.
     - –û—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞: BFS –∑–∞–≤–µ—Ä—à—ë–Ω.
   - –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É: `components.push_back({0,1,2,3})`. –¢–µ–ø–µ—Ä—å `visited = {0,1,2,3}`.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã 1** (v=1):
   - `visited.find(1) != end` ‚Üí –£–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º.

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã 2** (v=2):
   - –£–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º.

5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã 3** (v=3):
   - –£–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º.

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–µ—Ä—à–∏–Ω—ã 4** (v=4):
   - `visited.find(4) == end` ‚Üí –ù–µ –ø–æ—Å–µ—â–µ–Ω–∞.
   - –ó–∞–ø—É—Å–∫–∞–µ–º BFS –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
     - `component = {}`.
     - `q.push(4)`, `visited.insert(4)` ‚Üí `visited = {0,1,2,3,4}`.
   - BFS-—Ü–∏–∫–ª:
     - –ò–∑–≤–ª–µ–∫–∞–µ–º `u=4`. `component.insert(4)` ‚Üí `component = {4}`.
     - –°–æ—Å–µ–¥–∏ `u=4`: –ù–µ—Ç —Ä—ë–±–µ—Ä (`graph[4][w] == false` –¥–ª—è –≤—Å–µ—Ö `w`), –∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞.
   - –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É: `components.push_back({4})`.

7. **–ö–æ–Ω–µ—Ü**: –í–æ–∑–≤—Ä–∞—â–∞–µ–º `components = [{0,1,2,3}, {4}]`.

![alt text](../docs/videos/connected_components-ezgif.com-video-to-gif-converter.gif)


---


–ï—Å–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—à–∏–Ω–∞ –æ–¥–Ω–∞, —Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–±—Ä–æ –æ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã –∫ –ª—é–±–æ–π –≤–µ—Ä—à–∏–Ω–µ —Å–µ–≥–º–µ–Ω—Ç–∞ (–∏ –∑–∞—Ç–µ–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —É–∫–ª–∞–¥—ã–≤–∞–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —á–∞—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞) –±–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏—è –≥—Ä–∞–Ω–∏.

–ù–æ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º—ã –Ω–µ –¥–µ–ª–∞–µ–º —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è.