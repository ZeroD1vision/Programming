### 4. Описание функций

#### 4.1. Функция `print_error`
**Назначение**  
Выводит форматированное сообщение об ошибке с указанием номера строки, имени поля и текста ошибки.

**Прототип**  
```cpp
void print_error(const ErrorInfo& error);
```

**Обращение к функции**  
```cpp
print_error(errors[i]);
```

**Описание параметров**  

| Идентификатор | Тип            | Назначение                           | Входной/Выходной |
|---------------|----------------|--------------------------------------|------------------|
| error         | const ErrorInfo& | Структура с информацией об ошибке    | Входной          |

---

#### 4.2. Функция `read_data`
**Назначение**  
Читает данные из файла, парсит строки, валидирует поля и заполняет массив структур `Plane`.

**Прототип**  
```cpp
int read_data(const char *filename, Plane *planes, int *count, ErrorInfo *errors, int *error_count);
```

**Обращение к функции**  
```cpp
read_data(FILE_NAME, planes, &count, errors, &error_count);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                              | Входной/Выходной |
|---------------|--------------|-----------------------------------------|------------------|
| filename      | const char*  | Имя файла с данными                     | Входной          |
| planes        | Plane*       | Массив структур для записи данных       | Выходной         |
| count         | int*         | Указатель на счетчик валидных записей   | Входной/Выходной |
| errors        | ErrorInfo*   | Массив для записи ошибок                | Выходной         |
| error_count   | int*         | Указатель на счетчик ошибок             | Входной/Выходной |

---

#### 4.3. Функция `purify`
**Назначение**  
Удаляет пробелы и табуляцию из строки, оставляя только значимые символы.

**Прототип**  
```cpp
void purify(char* field);
```

**Обращение к функции**  
```cpp
purify(p.time);
```

**Описание параметров**  

| Идентификатор | Тип    | Назначение                     | Входной/Выходной |
|---------------|--------|--------------------------------|------------------|
| field         | char*  | Строка для обработки           | Входной/Выходной |

---

#### 4.4. Функция `check_and_convert_time`
**Назначение**  
Проверяет корректность формата времени (HH:MM) и конвертирует его в минуты.

**Прототип**  
```cpp
int check_and_convert_time(const char *time, int line_num, ErrorInfo *errors, int *error_count);
```

**Обращение к функции**  
```cpp
check_and_convert_time(p.time, line_num, errors, error_count);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                        | Входной/Выходной |
|---------------|--------------|-----------------------------------|------------------|
| time          | const char*  | Строка времени для проверки       | Входной          |
| line_num      | int          | Номер строки в файле              | Входной          |
| errors        | ErrorInfo*   | Массив для записи ошибок          | Выходной         |
| error_count   | int*         | Указатель на счетчик ошибок       | Входной/Выходной |

---

#### 4.5. Функция `check_model_valid`
**Назначение**  
Проверяет валидность поля "Модель самолета".

**Прототип**  
```cpp
void check_model_valid(const char *model, int line_num, ErrorInfo *errors, int *error_count);
```

**Обращение к функции**  
```cpp
check_model_valid(p.model, line_num, errors, error_count);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                        | Входной/Выходной |
|---------------|--------------|-----------------------------------|------------------|
| model         | const char*  | Строка модели для проверки        | Входной          |
| line_num      | int          | Номер строки в файле              | Входной          |
| errors        | ErrorInfo*   | Массив для записи ошибок          | Выходной         |
| error_count   | int*         | Указатель на счетчик ошибок       | Входной/Выходной |

---

#### 4.6. Функция `check_bort_valid`
**Назначение**  
Проверяет валидность бортового номера (формат X-XXXX).

**Прототип**  
```cpp
void check_bort_valid(const char *bort, int line_num, ErrorInfo *errors, int *error_count);
```

**Обращение к функции**  
```cpp
check_bort_valid(p.bort, line_num, errors, error_count);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                        | Входной/Выходной |
|---------------|--------------|-----------------------------------|------------------|
| bort          | const char*  | Бортовой номер для проверки       | Входной          |
| line_num      | int          | Номер строки в файле              | Входной          |
| errors        | ErrorInfo*   | Массив для записи ошибок          | Выходной         |
| error_count   | int*         | Указатель на счетчик ошибок       | Входной/Выходной |

---

#### 4.7. Функция `check_airport_valid`
**Назначение**  
Проверяет валидность кода аэродрома (AP1, AP2, AP3).

**Прототип**  
```cpp
void check_airport_valid(const char *airport, int line_num, ErrorInfo *errors, int *error_count);
```

**Обращение к функции**  
```cpp
check_airport_valid(p.airport, line_num, errors, error_count);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                        | Входной/Выходной |
|---------------|--------------|-----------------------------------|------------------|
| airport       | const char*  | Код аэродрома для проверки        | Входной          |
| line_num      | int          | Номер строки в файле              | Входной          |
| errors        | ErrorInfo*   | Массив для записи ошибок          | Выходной         |
| error_count   | int*         | Указатель на счетчик ошибок       | Входной/Выходной |

---

#### 4.8. Функция `bubble_sort`
**Назначение**  
Сортирует массив индексов по времени посадки (в порядке убывания).

**Прототип**  
```cpp
void bubble_sort(int *indices, int size, Plane *data);
```

**Обращение к функции**  
```cpp
bubble_sort(indices, size, planes);
```

**Описание параметров**  

| Идентификатор | Тип      | Назначение                              | Входной/Выходной |
|---------------|----------|-----------------------------------------|------------------|
| indices       | int*     | Массив индексов для сортировки          | Входной/Выходной |
| size          | int      | Количество элементов в массиве          | Входной          |
| data          | Plane*   | Массив структур с данными               | Входной          |

---

#### 4.9. Функция `print_table`
**Назначение**  
Форматированно выводит данные в виде таблицы для указанного аэродрома.

**Прототип**  
```cpp
void print_table(int *indices, int size, Plane *data, const char *airport);
```

**Обращение к функции**  
```cpp
print_table(indices, size, planes, airport);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                              | Входной/Выходной |
|---------------|--------------|-----------------------------------------|------------------|
| indices       | int*         | Массив индексов записей                 | Входной          |
| size          | int          | Количество записей                      | Входной          |
| data          | Plane*       | Массив структур с данными               | Входной          |
| airport       | const char*  | Код аэродрома для заголовка             | Входной          |

---

#### 4.10. Функция `process_airport`
**Назначение**  
Обрабатывает данные для конкретного аэродрома: фильтрация, сортировка и вывод.

**Прототип**  
```cpp
void process_airport(Plane *planes, int count, const char *airport);
```

**Обращение к функции**  
```cpp
process_airport(planes, count, airports[i]);
```

**Описание параметров**  

| Идентификатор | Тип          | Назначение                              | Входной/Выходной |
|---------------|--------------|-----------------------------------------|------------------|
| planes        | Plane*       | Массив структур с данными               | Входной          |
| count         | int          | Количество записей в массиве            | Входной          |
| airport       | const char*  | Код обрабатываемого аэродрома           | Входной          |